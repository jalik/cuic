/*
 * The MIT License (MIT)
 *
 * Copyright (c) 2017 Karl STEIN
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */

"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),function(e,t){if("undefined"!=typeof n)throw"Cuic already exists";if("undefined"==typeof jQuery)throw"jQuery not found";var n={DEBUG:!1,mouseX:0,mouseY:0,addClass:function(e,t){e=this.getElement(e);for(var n=this.getClasses(e),i=(t||"").split(" "),o=0;o<i.length;o+=1)n.indexOf(i[o])===-1&&n.push(i[o]);return e.className=n.join(" "),n},addEventListener:function(e,t,n){return e=this.getElement(e),"function"==typeof e.addEventListener?e.addEventListener(t,n):"function"==typeof e.attachEvent?e.attachEvent(t,n):void 0},align:function(e,t,n){return e=this.getElement(e),this.css(e,this.calculateAlign(e,t,n)),e},anchor:function(e,t,n){return e=this.getElement(e),this.css(e,this.calculateAnchor(e,t,n)),e},apply:function(e,t,n){if("function"==typeof e)return e.apply(t,n)},autoPixel:function(e){var t=["bottom","left","padding","right","top","max-height","max-width","height","width","margin","margin-bottom","margin-left","margin-right","margin-top","padding","padding-bottom","padding-left","padding-right","padding-top"];for(var n in e)e.hasOwnProperty(n)&&"number"==typeof e[n]&&t.indexOf(n)!==-1&&(e[n]=e[n]+"px");return e},border:function(e){var t=parseInt(this.getComputedStyle(e,"border-bottom-width")),n=parseInt(this.getComputedStyle(e,"border-left-width")),i=parseInt(this.getComputedStyle(e,"border-right-width")),o=parseInt(this.getComputedStyle(e,"border-top-width"));return{bottom:t,horizontal:n+i,left:n,right:i,top:o,vertical:t+o}},calculateAlign:function(e,n,i){var o=this;e=this.getElement(e),n=n||"",i?(i=this.getElement(i),"HTML"===i.nodeName&&(i=document.body),i!==e.parentNode&&i.append(e)):i=e.parentNode;var s=this.outerHeight(e,!0),a=this.outerWidth(e,!0),r=this.margin(e),l=this.innerHeight(i),c=this.innerWidth(i),u=this.padding(i),h=i.scrollLeft,d=i.scrollTop,p=-d,f=-h,m={bottom:"",left:"",right:"",top:""};"fixed"===this.css(e,"position")&&(i=t,l=this.innerHeight(i),c=this.innerWidth(i),h=0,d=0,p=0,f=0);var g=function(){return h+(o.width(i)/2-a/2)},v=function(){return d+(o.height(i)/2-s/2)};return a>c&&(m.width=c-(a-this.width(e))),s>l&&(m.height=l-(s-this.height(e))),n.indexOf("bottom")!==-1?m.bottom=Math.max(u.bottom,r.bottom):n.indexOf("top")!==-1?m.top=Math.max(u.top,r.top):m.top=v()+Math.max(u.top,r.top),n.indexOf("left")!==-1?m.left=Math.max(u.left,r.left):n.indexOf("right")!==-1?m.right=Math.max(u.right,r.right):m.left=g()+Math.max(u.left,r.left),m},calculateAnchor:function(e,n,i){n=n||"",e=this.element(e);var o=1,s=1,a={left:i[0],top:i[1]};i instanceof Array&&2===i.length||(i=this.element(i),o=i.outerHeight(),s=i.outerWidth(),a=i.offset());var r=e.outerWidth(!0),l=e.outerHeight(!0),c=parseInt(r/2),u=parseInt(l/2),h=parseInt(s/2),d=parseInt(o/2),p={bottom:"",left:"",right:"",top:""};return n.indexOf("bottom")!==-1?p.top=a.top+o:n.indexOf("top")!==-1?p.top=a.top-l:p.top=a.top+d-u,n.indexOf("left")!==-1?p.left=a.left-r:n.indexOf("right")!==-1?p.left=a.left+s:p.left=a.left+h-c,"fixed"===e.css("position")&&(p.left-=t.scrollX,p.top-=t.scrollY),p},calculateMaximize:function(e){e=this.getElement(e);var t=e.parentNode,n=this.padding(t),i=this.margin(e),o={bottom:"",height:this.height(t)-i.vertical,left:"",right:"",top:"",width:this.width(t)-i.horizontal};return this.isPosition("right",e)?o.right=n.right:o.left=n.left,this.isPosition("bottom",e)?o.bottom=n.bottom:o.top=n.top,o},calculateMinimize:function(e,t){e=this.getElement(e),t=t||"";var n=e.cloneNode(!0);this.css(n,{height:"auto",width:"auto"});var i=this.calculateAlign(n,t,e.parentNode);return i.height=this.outerHeight(n),i.width=this.outerWidth(n),n.remove(),i},call:function(){var e=void 0,t=void 0,n=Array.prototype.slice.call(arguments);return n.length>=2?(t=n.shift(),e=n.shift()):n.length>0&&(t=n.shift()),this.apply(t,e,n)},closest:function(e,t){return e=this.getElement(e),e.closest(t)},css:function(e,t){if(e=this.getElement(e),t)if("object"===("undefined"==typeof t?"undefined":_typeof(t))){var n="";this.autoPixel(t);for(var i=0;i<e.style.length;i+=1){var o=e.style[i];if(!(o in t)){var s=e.style[o];"string"==typeof s&&""===s&&(s='""'),n+=o+": "+s+";"}}for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];a in e.style||console.warn('Style "'+a+'" is not supported by element.',e),"string"==typeof r&&""===r&&(r='""'),n+=a+": "+r+";"}e.style=n}else if("string"==typeof t){if(t.indexOf(":")===-1)return e.style[t];e.style=t}return e.style},debug:function(){this.DEBUG&&void 0!==console&&console.log.apply(this,Array.prototype.slice.call(arguments))},element:function(e){return e instanceof this.Element?e:e instanceof HTMLElement?new this.Element(e):e instanceof jQuery?new this.Element(e.get(0)):"string"==typeof e?new this.Element(document.querySelector(e)):e},enterFullScreen:function(e){e=this.getElement(e),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},extend:function(){var e=Array.prototype.slice.call(arguments),t=!1,n=e.shift();"boolean"==typeof n&&(t=n,n=e.shift());for(var i=0;i<e.length;i+=1){var o=e[i];if("object"===("undefined"==typeof o?"undefined":_typeof(o))&&null!==o&&void 0!==o&&"object"===("undefined"==typeof n?"undefined":_typeof(n))&&null!==n&&void 0!==n)for(var s in o)o.hasOwnProperty(s)&&(t&&"object"===_typeof(o[s])&&null!==o[s]&&void 0!==o[s]?n[s]=this.extend(n[s],o[s]):n[s]=o[s]);else null!==o&&void 0!==o&&(n=o)}return n},find:function(e,t){t=this.getElement(t||document);var n=t.querySelectorAll(e);return new this.Set(n,t,e)},getClasses:function(e){return e=this.getElement(e),e.className.split(" ")},getComputedStyle:function(e,n){return e=this.getElement(e),t.getComputedStyle(e,null).getPropertyValue(n)},getElement:function(e){if(e instanceof HTMLElement)return e;if(e instanceof HTMLDocument)return e;if(e instanceof this.Element)return e.getElement();if(e instanceof jQuery)return e.get(0);throw new TypeError("element is not supported (HTMLElement, Cuic.Element or jQuery)")},getStylePrefix:function(){var e=document.createElement("div");return""==e.WebkitAnimation?"-webkit-":""==e.MozAnimation?"-moz-":""==e.OAnimation?"-o-":""==e.WebkitTransition?"-webkit-":""==e.MozTransition?"-moz-":""==e.OTransition?"-o-":""},hasClass:function(e,t){e=this.getElement(e);for(var n=this.getClasses(e),i=(t||"").split(" "),o=i.length>0,s=0;s<i.length;s+=1)if(n.indexOf(i[s])===-1){o=!1;break}return o},height:function(e){e=this.getElement(e);var t=this.padding(e)
